# High-Performance Image Processing & CNN using AVX2 SIMD ๐
**ูพุฑุฏุงุฒุด ุชุตูุฑ ู ูพุงุฏูโุณุงุฒ ุดุจฺฉู ุนุตุจ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑุงุช ุณุทุญ ูพุงู AVX2 ุฏุฑ ุฒุจุงู C**

ุงู ุฑูพุงุฒุชูุฑ ุดุงูู ูพุงุฏูโุณุงุฒ ุตูุฑ ุชุง ุตุฏ ุงูฺฏูุฑุชูโูุง ูพุฑุฏุงุฒุด ุชุตูุฑ ู ฺฉ ุดุจฺฉู ุนุตุจ ูพฺุด (CNN) ุฏุฑ ุฒุจุงู C ุงุณุช. ุชูุฑฺฉุฒ ุงุตู ุงู ูพุฑูฺู ุจุฑ ุฑู **ุจูููโุณุงุฒ ุญุฏุงฺฉุซุฑ (Hardware-Level Optimization)** ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑุงุช ุจุฑุฏุงุฑ ุงูุชู (SIMD AVX2 Intrinsics) ุฌูุช ุงูุฒุงุด ฺุดูฺฏุฑ ุณุฑุนุช ุงุฌุฑุง ูุณุจุช ุจู ฺฉุฏูุง ุงุณุชุงูุฏุงุฑุฏ C ุงุณุช.

---

## ๐ฏ ุงูุฏุงู ู ุจุฎุดโูุง ูพุฑูฺู (Project Modules)

ุงู ูพุฑูฺู ุจู ด ูุงฺูู ุงุตู ุชูุณู ุดุฏู ุงุณุช ฺฉู ูุฑ ฺฉุฏุงู ฺุงูุดโูุง ูุญุงุณุจุงุช ุฎุงุต ุฎูุฏ ุฑุง ุจุง ุงุณูุจู/AVX2 ุญู ูโฺฉููุฏ:

### 1. ุชุดุฎุต ูุจู ุฏุฑ ุชุตุงูุฑ ุฑูฺฏ (Edge Detection) - `edgeDetector.c`
*   **ุนููฺฉุฑุฏ:** ุงุนูุงู ููุชุฑูุง ฺฉุงููููุดู (ูุงููุฏ ุณูุจู/ูุงูพูุงุณู) ุฑู ุชุตุงูุฑ ุฑูฺฏ ุจุง ูุฑูุช PPM.
*   **ุจูููโุณุงุฒ AVX2:** ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ ูพุดุฑูุชู `_mm256_i32gather_ps` ุจุฑุง ุงุณุชุฎุฑุงุฌ ููุงุฒ ุจุงุชโูุง ููโุฑูฺฏ (RGB Interleaved Data) ุงุฒ ุญุงูุธู ู ูุญุงุณุจู ธ ูพฺฉุณู ุจู ุตูุฑุช ููุฒูุงู ุจุง ุฏุณุชูุฑุงุช `FMA`.

### 2. ุชุดุฎุต ุงูฺฏู (Template Matching) - `appleDetector.c`
*   **ุนููฺฉุฑุฏ:** ุงูุชู ฺฉ ุดุก ุฎุงุต (ููฺฏู ุงูพู) ุฏุฑ ูุงู ุชุตุงูุฑ ุจุฒุฑฺฏุชุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ ูพูุฌุฑูโูุง ฺฉุดู (Sliding Windows) ู ุชููุฏ Bounding Box.
*   **ุจูููโุณุงุฒ AVX2:** ุจุงุฑฺฏุฐุงุฑ Unaligned ูพูุฌุฑูโูุง ู ุถุฑุจ ูุงุชุฑุณ ููุฒูุงู ธ ูุงุญู ูุฎุชูู ุชุตูุฑ ุฏุฑ ฺฉุฑูู ูุฏู ุฌูุช ุงูุชู ุจุงูุงุชุฑู ุงูุชุงุฒ ุดุจุงูุช (Max Score).

### 3. ุชุดุฎุต ุงูุดฺฉุงู ููุฏุณ (Square Detection) - `squareDetector.c`
*   **ุนููฺฉุฑุฏ:** ุงุณุชุฎุฑุงุฌ ุฏูู ูุจูโูุง ู ุงูุชู ูุฎุชุตุงุช ูุฑุจุน ุฏุฑ ุชุตูุฑ.
*   **ุจูููโุณุงุฒ AVX2:** ูพุงุฏูโุณุงุฒ ฺฉุงูู ููุชุฑ Sobel ุฏุฑ ุซุจุงุชโูุง ฒตถ ุจุช. **ฺุงูุด ุญู ุดุฏู:** ูุญุงุณุจู "ูุฏุฑ ูุทูู" ุงุนุดุงุฑ (Absolute Value) ุจุฏูู ุงูุช ุณุฑุนุชุ ุจุง ุงุณุชูุงุฏู ุงุฒ ุชฺฉูฺฉ Bit-masking ู ุนููฺฏุฑ ููุทู `AND` (`0x7FFFFFFF`).

### 4. ุดุจฺฉู ุนุตุจ ุจุฑุง ุชุดุฎุต ุงุนุฏุงุฏ (MNIST CNN) - `mnistDetector.c` ๐
*   **ุนููฺฉุฑุฏ:** ูพุงุฏูโุณุงุฒ ฺฉุงูู Forward-Pass ฺฉ ุดุจฺฉู ุนุตุจ ุดุงูู ูุงูโูุง `Convolution`ุ `ReLU`ุ `MaxPool` ู `Fully Connected` ุจุฏูู ุงุณุชูุงุฏู ุงุฒ ูฺ ฺฉุชุงุจุฎุงูู ุซุงููู ุงุฏฺฏุฑ ูุงุดู.
*   **ุจูููโุณุงุฒ AVX2:** 
    *   ุถุฑุจ ู ุฌูุน ูุงุชุฑุณโูุง ูุฒู ุฏุฑ ูพฺฉุณูโูุง ุจุง `_mm256_fmadd_ps`.
    *   ูพุงุฏูโุณุงุฒ ุชุงุจุน ุงุฎุชุตุงุต ู ูพฺุฏู `hsum_avx` (Horizontal Sum) ุจุง ุงุณุชูุงุฏู ุงุฒ ุชฺฉูฺฉโูุง `Shuffle` ู `Extract` ุจุฑุง ุฌูุน ฺฉุฑุฏู ธ ุนุฏุฏ ุฏุฑูู ฺฉ ุฑุฌุณุชุฑ ูุงุญุฏ.

---

## โ๏ธ ูุญูู ฺฉุงููพุงู ู ุงุฌุฑุง (How to Build & Run)

ุงุฒ ุขูุฌุง ฺฉู ุงู ูพุฑูฺู ุจู ุดุฏุช ุจู ุฏุณุชูุฑุงุช ุณุฎุชโุงูุฒุงุฑ ูพุฑุฏุงุฒูุฏู ูุงุจุณุชู ุงุณุชุ ุจุฑุง ฺฉุงููพุงู ฺฉุฏูุง C ุจุงุฏ ุญุชูุงู ููฺฏโูุง ูุฑุจูุท ุจู AVX2 ู FMA ุฑุง ุจู ฺฉุงููพุงูุฑ `GCC` ูพุงุณ ุฏูุฏ.

**ุฏุณุชูุฑ ฺฉุงููพุงู (ูุซุงู ุจุฑุง ูุงฺูู ุชุดุฎุต ูุฑุจุน):**
```bash
gcc -mavx2 -mfma -O3 squareDetector.c -o squareDetector -lm

*   `-mavx2` : ูุนุงูโุณุงุฒ ุฑุฌุณุชุฑูุง ฒตถ ุจุช (YMM).
*   `-mfma` : ูุนุงูโุณุงุฒ ุฏุณุชูุฑุงุช ุฌูุน ู ุถุฑุจ ููุฒูุงู (Fused Multiply-Add).
*   `-O3` : ุงุนูุงู ุจุงูุงุชุฑู ุณุทุญ ุจูููโุณุงุฒ ฺฉุงููพุงูุฑ.
*   `-lm` : ููฺฉ ฺฉุฑุฏู ฺฉุชุงุจุฎุงูู ุฑุงุถ ุงุณุชุงูุฏุงุฑุฏ C (ุจุฑุง ุชูุงุจุน Math).

**ุงุฌุฑุง:**
bash
./squareDetector

---

## ๐ ุจูฺูุงุฑฺฉ ู ฺฉุงุฑุง (Performance Benchmark)

ุฏุฑ ุชูุงู ูุงฺููโูุงุ ฺฉุฏูุง ุงุณุชุงูุฏุงุฑุฏ C (Sequential) ุจุง ฺฉุฏูุง ููุดุชู ุดุฏู ุชูุณุท Intrinsics (AVX2) ุฒูุงูโุณูุฌ (Profiling) ุดุฏูโุงูุฏ. ูุชุงุฌ ุฏุฑ ุฎุฑูุฌ ฺฉูุณูู ฺุงูพ ูโุดููุฏ.
ุจู ูุทู ูพุฑุฏุงุฒุด ธ ุฏุงุฏู ุฏุฑ ฺฉ ุณฺฉู ฺฉูุงฺฉ (SIMD)ุ ุฏุฑ ุงฺฉุซุฑ ูพุฑุฏุงุฒุดโูุง ุดุงูุฏ **ุชุณุฑุน (Speedup)** ูุงุจู ุชูุฌู ูุณุชู ฺฉู ูุฏุฑุช ุจุฑูุงููโููุณ ุณุทุญ ูพุงู ุฑุง ุจู ุงุซุจุงุช ูโุฑุณุงูุฏ.

---

## ๐ ุงุจุฒุงุฑูุง ู ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู
*   **ุฒุจุงู ุจุฑูุงููโููุณ:** C (Standard C99/C11)
*   **ุฏุณุชูุฑุงุช ุณุฎุชโุงูุฒุงุฑ:** Intel AVX2 & FMA Intrinsics (`<immintrin.h>`)
*   **ฺฉุชุงุจุฎุงููโูุง ฺฉูฺฉ:** `stb_image.h` (ุจุฑุง ุฎูุงูุฏู ุชุตุงูุฑ ุฏุฑ ูุงฺูู MNIST)
*   **ูุฏูโุณุงุฒ CNN:** ุงุณุชุฎุฑุงุฌ ูุฒูโูุง ุงุฒ Python/PyTorch ู ุงูุชูุงู ุจู Header ูุง C (`weights.h`).

---
*ุงู ูพุฑูฺู ุจู ุนููุงู ุจุฎุด ุงุฒ ุฏุฑุณ ุจุฑูุงููโููุณ ุงุณูุจู / ูุนูุงุฑ ฺฉุงููพูุชุฑ ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช.*
